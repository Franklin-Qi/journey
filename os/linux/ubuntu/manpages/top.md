# Top
[Top 经典](https://ycat.top/post/top/)

当系统卡的时候，应该看的top 和 vmstat，此时可以P进程显示CPU从大到小。

步骤如下：
1. 1 显示所有信息，多核CPU监控
2. P 根据CPU高低显示
3. n 显示进程个数
4. f 增/删显示列，如增加ppid
5. s 改变更新频率
6. k 终止进程
7. z 更改颜色

进程字段排序：
b 打开关闭加粗效果
x 打开排序列的高亮
shift+> , shift+< 可以向右，向左改变排序列。

top指定查看PID
[root@6 ~]# top -p 21538

## 通过top观察cpu很空闲，但是负载比较高的情况：
load average 是对 CPU 负载的评估，其值越高，说明其任务队列越长，处于等待执行的任务越多。
出现此种情况时，可能是由于僵死进程导致的。可以通过指令 ps -axjf  查看是否存在 D 状态进程。
D 状态是指不可中断的睡眠状态。该状态的进程无法被 kill，也无法自行退出。只能通过恢复其依赖的资源或者重启系统来解决。



## Time+
进程所使用的CPU时间，不是进程启动到现在的时间，因此，如果一个进程使用的cpu很少，那即使这个进程已经存在N长时间，TIME/TIME+也是很小的数值。
此外，如果你的系统有多个CPU，或者是多核CPU的话，那么，进程占用多个cpu的时间是累加的。
例如：257:14.655代表的时间是：
从右到左分别是百分之一秒，十分之一秒，秒，十秒，分钟
这个就是257分钟，10秒，4秒，十分之6秒，百分之5秒、千分之5秒，是按位来计算的。

## 参考
https://www.cnblogs.com/brightbrother/p/8124915.html
[linux CPU使用率过高或负载过高的处理思路](https://www.cnblogs.com/brightbrother/p/8124915.html)
